(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"0d3e":function(s,t,e){"use strict";e.r(t);var a={name:"NotificationForm",data:()=>({load:!1,loading:!1,loadingSubmit:!1,resource:"api/notification",title:"",errors:{},form:{},states:[]}),created(){this.initForm(),this.initTables()},mounted(){this.load=!0},methods:{initForm(){this.errors={},this.form={id:null,state_id:null,subject:null,message:null}},initTables(){this.$axios.get(`/${this.resource}/tables`).then((s=>{this.states=s.data.states}))},async sendMail(){return _.isNull(this.form.state_id)?(this.$q.notify({message:"Seleccione un estado",icon:"fas fa-times",color:"red"}),!1):_.isNull(this.form.subject)||""===this.form.subject?(this.$q.notify({message:"El campo asunto es requerido",icon:"fas fa-times",color:"red"}),!1):_.isNull(this.form.message)||""===this.form.message?(this.$q.notify({message:"El campo mensaje es requerido",icon:"fas fa-times",color:"red"}),!1):(this.loadingSubmit=!0,await this.$axios.post(`/${this.resource}/send_mail`,this.form).then((s=>{s.data.success?this.$q.notify({message:s.data.message,icon:"fas fa-check",color:"positive"}):this.$q.notify({message:s.data.message,icon:"fas fa-times",color:"red"})})),void(this.loadingSubmit=!1))}}},i=e("2877"),o=e("f09f"),r=e("a370"),l=e("9c40"),n=e("eebe"),c=e.n(n),d=Object(i.a)(a,(function(){var s=this,t=s.$createElement,e=s._self._c||t;return s.load?e("div",{staticClass:"content-index"},[e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-12"},[e("q-card",[e("q-card-section",{staticClass:"q-pa-lg"},[e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-24 col-md-12"},[e("x-select",{attrs:{label:"Estado",options:s.states,error:s.errors.state_id},model:{value:s.form.state_id,callback:function(t){s.$set(s.form,"state_id",t)},expression:"form.state_id"}})],1),e("div",{staticClass:"col-24"},[e("x-input",{attrs:{label:"Asunto email",autogrow:"",error:s.errors.subject},model:{value:s.form.subject,callback:function(t){s.$set(s.form,"subject",t)},expression:"form.subject"}})],1),e("div",{staticClass:"col-24"},[e("x-input",{attrs:{label:"Mensaje email",autogrow:"",error:s.errors.message},model:{value:s.form.message,callback:function(t){s.$set(s.form,"message",t)},expression:"form.message"}})],1)]),e("div",{staticClass:"row q-col-gutter-md",staticStyle:{"margin-top":"18px"}},[e("div",{staticClass:"col-24 text-right"},[e("q-btn",{attrs:{unelevated:"",color:"blue",disable:!s.form.state_id,loading:s.loadingSubmit},on:{click:function(t){return t.preventDefault(),s.sendMail.apply(null,arguments)}}},[s._v("ENVIAR")])],1)])])],1)],1)])]):s._e()}),[],!1,null,null,null);t.default=d.exports,c()(d,"components",{QCard:o.a,QCardSection:r.a,QBtn:l.a})}}]);

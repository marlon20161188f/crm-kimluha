(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"18d2":function(a,t,s){"use strict";s.r(t);var e=s("2d18"),l={name:"StateForm",props:["showDialog","recordId"],data:()=>({loading:!1,loadingSubmit:!1,resource:"api/configuration/state",title:"",errors:{},form:{},colours:[]}),created(){this.initForm(),this.initTables()},methods:{initForm(){this.title="",this.errors={},this.form={id:null,name:"",description:"",colour:null}},initTables(){this.$axios.get(`/${this.resource}/tables`).then((a=>{this.colours=a.data.colours}))},async handleOpen(){this.loading=!0,this.initForm(),this.recordId?(await this.$axios.get(`/${this.resource}/record/${this.recordId}`).then((a=>{this.form=a.data.data})),this.title="Editar estado"):this.title="Nuevo estado",this.loading=!1},async onSubmit(){this.loading=!0,this.loadingSubmit=!0,this.errors={},await this.$axios.post(`/${this.resource}`,this.form).then((a=>{a.data.success?(this.$q.notify({message:a.data.message,icon:"fas fa-check",color:"positive"}),this.$emit("success",a.data.id),this.closeDialog()):this.$q.notify({message:a.data.message,icon:"fas fa-times",color:"red"})})).catch((a=>{this.errors=a})),this.loadingSubmit=!1,this.loading=!1},closeDialog(){this.$emit("update:showDialog",!1)}}},o=s("2877"),r=s("24e8"),i=s("f09f"),n=s("a370"),d=s("0016"),c=s("eb85"),u=s("9c40"),m=s("eebe"),p=s.n(m),k=Object(o.a)(l,(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("q-dialog",{attrs:{value:a.showDialog,"no-esc-dismiss":!1,"no-backdrop-dismiss":!0,"transition-show":"scale","transition-hide":"scale"},on:{"before-show":a.handleOpen,hide:a.closeDialog}},[s("q-card",{staticClass:"x-dialog",staticStyle:{width:"480px"}},[s("q-card-section",[s("div",{staticClass:"flex justify-between items-center"},[s("div",{staticClass:"x-dialog--title"},[a._v(a._s(a.title))]),s("div",[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"far fa-times-circle",size:"md"},on:{click:function(t){return t.preventDefault(),a.closeDialog.apply(null,arguments)}}})],1)])]),s("q-separator"),s("q-card-section",[s("div",{staticClass:"row q-col-gutter-md"},[s("div",{staticClass:"col-24 col-md-12"},[s("x-input",{attrs:{label:"Nombre del estado",error:a.errors.name},model:{value:a.form.name,callback:function(t){a.$set(a.form,"name",t)},expression:"form.name"}})],1),s("div",{staticClass:"col-24 col-md-12"},[s("x-select",{attrs:{label:"Color",options:a.colours,error:a.errors.colour},model:{value:a.form.colour,callback:function(t){a.$set(a.form,"colour",t)},expression:"form.colour"}})],1),s("div",{staticClass:"col-24"},[s("x-input",{attrs:{label:"Descripción",error:a.errors.description},model:{value:a.form.description,callback:function(t){a.$set(a.form,"description",t)},expression:"form.description"}})],1)]),s("div",{staticClass:"row q-col-gutter-md",staticStyle:{"margin-top":"18px"}},[a.recordId?a._e():s("div",{staticClass:"col-12"},[s("q-btn",{staticClass:"full-width",attrs:{unelevated:"",outline:""},on:{click:function(t){return t.preventDefault(),a.closeDialog.apply(null,arguments)}}},[a._v("CANCELAR")])],1),s("div",{staticClass:"col-12"},[s("q-btn",{staticClass:"full-width",attrs:{unelevated:"",color:"blue"},on:{click:function(t){return t.preventDefault(),a.onSubmit.apply(null,arguments)}}},[a.recordId?[a._v("GUARDAR CAMBIOS")]:[a._v("CREAR")]],2)],1)])])],1)],1)}),[],!1,null,null,null),f=k.exports;p()(k,"components",{QDialog:r.a,QCard:i.a,QCardSection:n.a,QIcon:d.a,QSeparator:c.a,QBtn:u.a});var b={name:"UserIndex",components:{StateForm:f,XCardTable:e.a},data:()=>({load:!1,loading:!1,loadingSubmit:!1,showDialogState:!1,showDialogLock:!1,tabActive:"state",pagination:{sortBy:"desc",descending:!1,page:1,rowsPerPage:5},columns:[{name:"state",align:"left",label:"ESTADO",field:"state",sortable:!1},{name:"colour",align:"center",label:"COLOR DE ESTADO",field:"colour",sortable:!1},{name:"description",align:"left",label:"DESCRIPCIÓN",field:"description",sortable:!1},{name:"actions",align:"right",label:"ACCIONES",field:"actions",sortable:!1}],rows:[{state:"Estado 1",colour:"red",description:"saldjaslkdj aslkjdasl kdjlkas ldkasjdlkasj dlkaskjd lkasjdlkasjdlkasjd lasjd laskjdas",actions:""},{state:"Estado 1",colour:"orange",description:"saldjaslkdj aslkjdasl kdjlkas ldkasjdlkasj dlkaskjd lkasjdlkasjdlkasjd lasjd laskjdas",actions:""},{state:"Estado 1",colour:"green",description:"saldjaslkdj aslkjdasl kdjlkas ldkasjdlkasj dlkaskjd lkasjdlkasjdlkasjd lasjd laskjdas",actions:""},{state:"Estado 1",colour:"red",description:"saldjaslkdj aslkjdasl kdjlkas ldkasjdlkasj dlkaskjd lkasjdlkasjdlkasjd lasjd laskjdas",actions:""},{state:"Estado 1",colour:"red",description:"saldjaslkdj aslkjdasl kdjlkas ldkasjdlkasj dlkaskjd lkasjdlkasjdlkasjd lasjd laskjdas",actions:""},{state:"Estado 1",colour:"red",description:"saldjaslkdj aslkjdasl kdjlkas ldkasjdlkasj dlkaskjd lkasjdlkasjdlkasjd lasjd laskjdas",actions:""},{state:"Estado 1",colour:"red",description:"saldjaslkdj aslkjdasl kdjlkas ldkasjdlkasj dlkaskjd lkasjdlkasjdlkasjd lasjd laskjdas",actions:""},{state:"Estado 1",colour:"red",description:"saldjaslkdj aslkjdasl kdjlkas ldkasjdlkasj dlkaskjd lkasjdlkasjdlkasjd lasjd laskjdas",actions:""}],errors:{},form:{},roles:[],recordId:null}),computed:{pagesNumber(){return Math.ceil(this.rows.length/this.pagination.rowsPerPage)}},mounted(){this.load=!0},methods:{clickCreateState(a){this.showDialogState=!0},clickLock(a){this.showDialogLock=!0}}},j=s("429b"),g=s("7460"),h=s("adad"),v=s("823b"),w=s("eaac"),C=s("bd08"),x=s("db86"),S=s("58a81"),q=s("3b16"),_=Object(o.a)(b,(function(){var a=this,t=a.$createElement,s=a._self._c||t;return a.load?s("div",{staticClass:"content-index"},[s("div",{staticClass:"row q-col-gutter-md"},[s("div",{staticClass:"col-24"},[s("x-card-table",{attrs:{title:"CONTACTOS"},scopedSlots:a._u([{key:"header",fn:function(){return[s("div",{staticClass:"flex justify-between items-center"},[s("q-tabs",{attrs:{"active-color":"blue"},model:{value:a.tabActive,callback:function(t){a.tabActive=t},expression:"tabActive"}},[s("q-tab",{attrs:{name:"state",label:"ESTADOS"}}),s("q-tab",{attrs:{name:"information",label:"MIS DATOS"}}),s("q-tab",{attrs:{name:"password",label:"CAMBIAR CONTRASEÑA"}})],1),"state"===a.tabActive?s("q-btn",{attrs:{unelevated:"",color:"blue"},on:{click:function(t){return t.preventDefault(),a.clickCreateState.apply(null,arguments)}}},[a._v("CREAR\n              ESTADO\n            ")]):a._e()],1)]},proxy:!0},{key:"table",fn:function(){return[s("q-tab-panels",{attrs:{animated:""},model:{value:a.tabActive,callback:function(t){a.tabActive=t},expression:"tabActive"}},[s("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"state"}},[s("q-table",{attrs:{flat:"",data:a.rows,columns:a.columns,"row-key":"id",pagination:a.pagination,"hide-pagination":""},on:{"update:pagination":function(t){a.pagination=t}},scopedSlots:a._u([{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t}},[a._l(t.cols,(function(e){return[s("q-td",{key:e.name,attrs:{props:t}},["actions"===e.name?[s("q-btn",{attrs:{size:"md",flat:"",round:"",icon:"far fa-eye"},on:{click:function(s){return s.preventDefault(),a.clickCreateState(t.row.id)}}})]:a._e(),"colour"===e.name?[s("q-badge",{attrs:{color:t.row.colour,rounded:""}})]:[a._v("\n                          "+a._s(t.row[e.name])+"\n                        ")]],2)]}))],2)]}}],null,!1,1342513205)}),s("div",{staticClass:"row justify-center q-mt-md"},[s("q-pagination",{attrs:{color:"grey-8",max:a.pagesNumber},model:{value:a.pagination.page,callback:function(t){a.$set(a.pagination,"page",t)},expression:"pagination.page"}})],1)],1),s("q-tab-panel",{attrs:{name:"information"}},[s("div",{staticClass:"row q-col-gutter-md"},[s("div",{staticClass:"col-24 col-md-8"},[s("x-input",{attrs:{label:"DNI",error:a.errors.number},model:{value:a.form.number,callback:function(t){a.$set(a.form,"number",t)},expression:"form.number"}})],1),s("div",{staticClass:"col-24 col-md-8"},[s("x-input",{attrs:{label:"Nombre",error:a.errors.name},model:{value:a.form.name,callback:function(t){a.$set(a.form,"name",t)},expression:"form.name"}})],1),s("div",{staticClass:"col-24 col-md-8"},[s("x-input",{attrs:{label:"Apellido",error:a.errors.lastname},model:{value:a.form.lastname,callback:function(t){a.$set(a.form,"lastname",t)},expression:"form.lastname"}})],1),s("div",{staticClass:"col-24 col-md-8"},[s("x-input",{attrs:{label:"Email",error:a.errors.email},model:{value:a.form.email,callback:function(t){a.$set(a.form,"email",t)},expression:"form.email"}})],1),s("div",{staticClass:"col-24 col-md-8"},[s("x-select",{attrs:{label:"Perfil",readonly:!!a.form.id,options:a.roles,error:a.errors.role_id},model:{value:a.form.role_id,callback:function(t){a.$set(a.form,"role_id",t)},expression:"form.role_id"}})],1)]),s("div",{staticClass:"row q-col-gutter-md",staticStyle:{"margin-top":"18px"}},[s("div",{staticClass:"col-24 text-right"},[s("q-btn",{attrs:{unelevated:"",color:"blue",loading:a.loadingSubmit}},[a._v("GUARDAR CAMBIOS")])],1)])]),s("q-tab-panel",{attrs:{name:"password"}},[s("div",{staticClass:"row q-col-gutter-md"},[s("div",{staticClass:"col-24 col-md-8"},[s("x-input",{attrs:{label:"Contraseña actual",error:a.errors.password},model:{value:a.form.password,callback:function(t){a.$set(a.form,"password",t)},expression:"form.password"}})],1),s("div",{staticClass:"col-24 col-md-8"},[s("x-input",{attrs:{label:"Nueva contraseña",error:a.errors.password_new},model:{value:a.form.password_new,callback:function(t){a.$set(a.form,"password_new",t)},expression:"form.password_new"}})],1),s("div",{staticClass:"col-24 col-md-8"},[s("x-input",{attrs:{label:"Repetir contraseña",error:a.errors.password_new},model:{value:a.form.password_new,callback:function(t){a.$set(a.form,"password_new",t)},expression:"form.password_new"}})],1)]),s("div",{staticClass:"row q-col-gutter-md",staticStyle:{"margin-top":"18px"}},[s("div",{staticClass:"col-24 text-right"},[s("q-btn",{attrs:{unelevated:"",color:"blue",loading:a.loadingSubmit}},[a._v("GUARDAR CAMBIOS")])],1)])])],1)]},proxy:!0}],null,!1,1895152376)})],1)]),s("state-form",{attrs:{"show-dialog":a.showDialogState},on:{"update:showDialog":function(t){a.showDialogState=t},"update:show-dialog":function(t){a.showDialogState=t}}})],1):a._e()}),[],!1,null,null,null);t.default=_.exports,p()(_,"components",{QTabs:j.a,QTab:g.a,QBtn:u.a,QTabPanels:h.a,QTabPanel:v.a,QTable:w.a,QTr:C.a,QTd:x.a,QBadge:S.a,QPagination:q.a})},"2d18":function(a,t,s){"use strict";var e={name:"XCardTable",props:{title:{type:String,default:"Sin título"}},methods:{}},l=(s("feb1"),s("2877")),o=s("f09f"),r=s("a370"),i=s("eebe"),n=s.n(i),d=Object(l.a)(e,(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("q-card",{attrs:{flat:""}},[s("q-card-section",{staticClass:"x-card-table--header"},[a._t("header")],2),s("q-card-section",{staticClass:"q-pt-none q-pl-none q-pr-none"},[a._t("table")],2)],1)}),[],!1,null,"efc2fe2a",null);t.a=d.exports,n()(d,"components",{QCard:o.a,QCardSection:r.a})},fcc9:function(a,t,s){},feb1:function(a,t,s){"use strict";s("fcc9")}}]);
